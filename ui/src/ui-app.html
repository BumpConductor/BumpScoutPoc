<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-redux/polymer-redux.html">
<link rel="import" href="../../bower_components/app-layout/app-layout.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="./redux-behavior.html">
<link rel="import" href="/ui/src/login-register.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/ui/src/shared-styles.html">


<dom-module id="ui-app">
  <template>
      <style include="shared-styles">
       </style>
        <app-header-layout>
        <!--  <app-header reveals effects="waterfall"> -->
        <app-header reveals>
          <app-toolbar maintitle="BUMPScout">
            <paper-icon-button icon="menu"></paper-icon-button>
            <div main-title>BUMPScout</div>
            <template is="dom-if" if="{{isSignedIn}}">
       <!--         <p>hi, [[displayName]]</p><span><paper-label on-tap="_signOut" >Logout</paper-label></span> -->  
                
                <p>hi, [[displayName]]</p><span><p>&nbsp|&nbsp </p></span><span><a on-tap="_signOut" href>Logout</a></span>
         
            </template>
          </app-toolbar>
        </app-header>

      </app-header-layout>
      <login-register class="myimage"></login-register>
  </template>
  <script>
    Polymer({
      is: 'ui-app',
      behaviors: [ReduxBehavior],
      properties: {
        isSignedIn: {
          type: Boolean,
          statePath: app.selectors.auth.isSignedIn,
        },
        displayName: {
          type: String,
          statePath: app.selectors.auth.displayName,
        },
        isSignedOut: {
          type: Boolean,
          statePath: app.selectors.auth.isSignedOut,
        }
      },
        /* Redux Functions */
        actions: {
          signOut: app.actions.auth.signOut,
        },
        _signOut: function() {
          /*window.alert("Do you want to sign-out?");*/
          return this.dispatch('signOut');
        }
     });
  </script>
</dom-module>

